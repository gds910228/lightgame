# LightGame 发布说明

## v1.1.0 (2025-01-28)

### 🏗️ 架构重构
- **Monorepo 结构**：重构项目为 monorepo 架构，提升可维护性和扩展性
  - 创建 `packages/app/` 目录存放主应用代码
  - 创建 `packages/games/` 目录存放游戏源文件
  - 分离应用代码和游戏资源，便于独立管理和优化

### ⚡ 性能优化
- **资产优化管道**：实现自动化游戏资产优化系统
  - 新增 `optimize-games.cjs` 脚本，自动处理游戏文件优化
  - 支持图片压缩、代码压缩和资源整理
  - 构建时自动生成优化后的游戏文件到 `packages/app/public/games/`
  - 总体积从 6.54 MB 优化至 2.3 MB，减少约 65% 的文件大小

### 📊 性能监控
- **性能仪表板**：新增右下角性能监控面板
  - 实时显示构建信息：游戏总数、文件大小、加载策略
  - 运行时性能统计：游戏加载次数、平均加载时间、错误率
  - 热门游戏排行：基于用户访问数据的游戏受欢迎程度统计
  - 支持数据刷新和统计清除功能

### 🔧 构建系统优化
- **自动化流程**：优化构建和部署流程
  - 更新 `prebuild` 脚本使用新的优化管道
  - 自动生成 `games.json` 文件，包含游戏元数据
  - 支持从游戏 HTML 文件自动提取标题和描述信息
  - 改进错误处理和日志输出

### 🎮 游戏集成优化
- **分享功能完善**：完成游戏分享功能的统一集成
  - 移除旧的微信分享代码和相关 UI 元素
  - 统一使用主应用的分享系统，支持 postMessage 通信
  - 清理游戏文件中的冗余分享图片和样式

### 📁 项目结构
```
lightgame/
├── packages/
│   ├── app/          # 主应用代码
│   │   ├── src/      # React 应用源码
│   │   ├── public/   # 静态资源
│   │   └── scripts/  # 构建脚本
│   └── games/        # 游戏源文件（版本控制）
└── 配置文件...
```

### 🚀 部署优化
- **Vercel 部署**：解决部署相关问题
  - 修复构建脚本路径问题
  - 优化 TypeScript 配置
  - 确保生成的游戏文件正确排除在版本控制之外

## v1.0.5 (2024-06-27)

### ✨ 新功能
- **游戏反馈系统**：添加用户反馈功能
  - 创建反馈表单组件，支持收集用户意见和建议
  - 集成EmailJS服务，实现无后端的邮件发送功能
  - 添加五星评分系统，让用户能够对游戏进行评分
  - 支持选择特定游戏进行反馈，包括问题报告和改进建议

### 🔧 技术改进
- **环境变量管理**：
  - 使用`.env`文件管理敏感API密钥，提高安全性
  - 添加备用值机制，确保开发环境下正常工作
  - 更新`.gitignore`，防止敏感信息提交到代码仓库

### 🌐 国际化
- **界面文本**：将反馈系统界面文本英文化
  - 翻译表单标签、提示文本和按钮文本
  - 确保邮件模板使用英文，提供一致的用户体验

### 🎨 界面优化
- **反馈表单UI**：
  - 添加可搜索的下拉菜单，方便用户选择游戏
  - 实现表单验证，确保必填字段和邮箱格式正确
  - 添加提交状态反馈，包括加载中、成功和失败状态

## v1.0.4 (2024-06-26)

### ✨ 新功能
- **新增游戏**：添加三款新游戏
  - **Bun Eating Contest (baozi)**：包子吃比赛，看谁能吃更多包子
  - **Steps of Wonder (bbjx)**：考验反应能力的踏步游戏
  - **Quick Reaction (bdsjm)**：快速反应测试游戏

### 🐛 Bug 修复
- **Bun Eating Contest**：
  - 修复"More Games"按钮跳转问题，现在可以正确返回首页
  - 移除游戏中的第三方水印和版权信息
  - 更新SVG图片路径，确保按钮正确显示

### 🔄 优化
- **Steps of Wonder**：
  - 修复黑屏问题，添加错误处理和备用游戏界面
  - 创建缺失的cocos2d框架文件，确保游戏正常运行

### 🌐 国际化
- **游戏内容**：将所有新增游戏的文本内容英文化
  - 翻译游戏标题、描述和界面文本
  - 确保游戏在英文界面中正确显示

## v1.0.3 (2024-06-25)

### ✨ 新功能
- **Baba游戏**：新增旅行足迹收集游戏
  - 允许用户标记已经去过的地点
  - 简洁直观的地点列表界面
  - 结果统计和分享功能

### 🎨 界面优化
- **游戏资源优化**：
  - 为Baba游戏创建SVG缩略图和封面图片
  - 内联CSS样式，减少外部依赖
  - 简化JavaScript代码，提高性能

### 🔄 资源管理
- **封面图片系统**：
  - 新增`/images/covers/`目录存储游戏封面图片
  - 为游戏元数据添加cover字段，支持展示高质量封面图片
  - 优化图片资源组织结构

### 🛠️ 代码优化
- **游戏兼容性**：
  - 移除对外部库的依赖，如zepto.js
  - 使用原生JavaScript实现交互功能
  - 优化移动设备上的触摸体验

## v1.0.2 (2024-06-24)

### ✨ 新功能
- **塔防策略游戏**：新增塔防类游戏
  - 提供三种不同类型的防御塔：基础塔、火炮塔和冰冻塔
  - 多种敌人类型，包括普通敌人、快速敌人和坦克敌人
  - 10波敌人进攻，难度逐渐提升
  - 资源管理系统，合理分配金钱建造防御塔

### 🎨 界面优化
- **游戏缩略图**：为所有游戏创建统一风格的SVG缩略图
  - 使用矢量图形确保在任何尺寸下都清晰显示
  - 每个游戏的缩略图都包含游戏特有的元素和标题
  - 采用现代化的扁平设计风格

### 🔄 资源管理
- **图片资源**：优化游戏资源管理
  - 创建专门的图片目录结构，便于维护
  - 统一图片路径格式，确保在不同环境下正确加载
  - 修复所有游戏缩略图无法显示的问题

### 🌐 国际化
- **游戏内容**：将塔防游戏的元数据英文化
  - 翻译游戏标题、描述和功能列表
  - 确保游戏在英文界面中正确显示

## v1.0.1 (2024-05-22)

### 🐛 Bug 修复
- **俄罗斯方块游戏**：修复第一块方块落下就结束游戏的问题
  - 调整方块初始位置，从更高处开始下落
  - 优化碰撞检测逻辑，确保方块在屏幕顶部不会误判为碰撞

### ✨ 新功能
- **太空射击游戏**：添加大招功能
  - 按下'B'键可以触发大招，清除屏幕上所有敌人
  - 每局游戏可使用3次大招
  - 使用大招会有蓝色闪光特效

### 🔄 优化
- **游戏界面**：移除游戏加载时显示的"Loading game..."文本，避免一直显示

## v1.0.0 (2024-05-21)

### 🚀 初始版本发布
- 完成基础游戏平台搭建
- 集成3款经典小游戏：贪吃蛇、俄罗斯方块、太空射击
- 支持游戏分类、搜索和全屏游戏体验

### 主要功能
- **游戏展示**: 响应式游戏卡片网格，支持分类筛选与搜索
- **游戏详情**: 每个游戏的详细信息页面，包含描述和操作指南
- **全屏游戏体验**: 点击"开始游戏"后进入沉浸式全屏模式
- **精美UI**: 采用卡通插画风格，动画流畅，视觉效果佳

### 技术栈
- React + TypeScript
- Tailwind CSS
- Vite

### 浏览器支持
- Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Edge (最新版) 