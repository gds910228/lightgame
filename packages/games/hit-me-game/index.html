<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Hit Me!</title>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="full-screen" content="yes"/>
    <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>
    <style>
        body, canvas, div {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            -khtml-user-select: none;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }
    </style>
</head>
<body style="padding:0; margin: 0; background: #000;">
<canvas id="gameCanvas" width="640" height="960"></canvas>
<div style="position:fixed; bottom:10px; left:0px; width:100%; text-align:center;"><a href="javascript:void(0);" onClick="navigateToHome();">More Games</a></div>
<script src="cocos2d.js"></script>
<script language=javascript>
    // Navigate back to the home page
    function navigateToHome(){
        if (window.parent) {
            window.parent.postMessage({
                type: 'NAVIGATE_TO_HOME',
                action: 'navigateHome'
            }, '*');
        } else {
            window.location.href = '/';
        }
    }

    // Placeholder functions for game compatibility
    function goHome(){
        navigateToHome();
    }

    function clickMore(){
        navigateToHome();
    }

    function dp_share(){
        // This function is kept for compatibility but does nothing
        // Share functionality is now handled by the parent page
    }

    function dp_Ranking(){
        navigateToHome();
    }

    function showAd(){
        // No ads in this version
    }

    function hideAd(){
        // No ads in this version
    }

    // Submit score and trigger share functionality
    function dp_submitScore(score, stitle){
        console.log('Game score submitted:', score, stitle);

        // Update document title with score
        if (stitle) {
            document.title = stitle;
        }

        // Send share message to parent page
        if (window.parent) {
            window.parent.postMessage({
                type: 'SHARE_GAME',
                data: {
                    score: score,
                    title: stitle || 'Hit Me!'
                }
            }, '*');
        } else if (window.handleGlobalShare) {
            // Fallback for older implementations
            window.handleGlobalShare(score);
        }
    }

    // Legacy function for backward compatibility
    function onShareComplete(res) {
        // No action needed - handled by parent page
    }
</script>
</body>
</html>
